define("local_copygroups/validation",["exports","core/modal_save_cancel","core/modal_events","core/str"],(function(_exports,_modal_save_cancel,_modal_events,_str){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
// @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_modal_save_cancel=_interopRequireDefault(_modal_save_cancel),_modal_events=_interopRequireDefault(_modal_events);_exports.init=from=>{let popupAlreadyDisplayed=!1,form=document.getElementsByClassName("mform")[0];form&&form.addEventListener("submit",(async e=>{if(!popupAlreadyDisplayed){e.preventDefault(),popupAlreadyDisplayed=!0;const modal=await _modal_save_cancel.default.create({title:(0,_str.get_string)("modalcontentvalidationtitle","local_copygroups"),body:(0,_str.get_string)("modalcontentvalidation","local_copygroups")});modal.getRoot().on(_modal_events.default.save,(()=>{document.getElementById("id_submitbutton").click()})),modal.getRoot().on(_modal_events.default.cancel,(()=>{popupAlreadyDisplayed=!1})),"index"===from?document.getElementById("id_select_distinct_groups").checked||await modal.show():"groups_select"===from&&await modal.show()}}))}}));

//# sourceMappingURL=validation.min.js.map